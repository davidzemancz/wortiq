// Project templates for intelligent mock analysis generation
// Each template defines tasks, team, budget, milestones, risks specific to project type

export const projectTemplates = {
  ecommerce: {
    keywords: [
      'e-shop', 'eshop', 'e-commerce', 'ecommerce', 'obchod', 'prodej', 'zboží',
      'produkty', 'košík', 'platba', 'platební', 'gopay', 'stripe', 'zásilkovna',
      'doprava', 'sklad', 'inventář', 'katalog', 'nákup', 'objednávk',
    ],
    namePrefix: 'E-commerce',
    complexity: 'high',
    weeks: 8,
    tasks: [
      {
        id: 'task-1',
        title: 'UX výzkum a wireframy',
        description: 'Analýza konkurenčních e-shopů, uživatelský výzkum, návrh informační architektury a wireframy klíčových stránek (homepage, kategorie, produkt, košík, checkout).',
        skills: ['UX Research', 'UI/UX Design', 'Figma'],
        difficulty: 'medium',
        estimatedHours: 32,
        priority: 'high',
        dependencies: [],
        category: 'design',
        deliverables: ['Competitive analýza', 'Wireframy (12+ stránek)', 'User flow diagramy'],
      },
      {
        id: 'task-2',
        title: 'Vizuální design a design systém',
        description: 'Kompletní vizuální návrh e-shopu včetně design systému, komponentové knihovny a responsivních variant pro mobil, tablet a desktop.',
        skills: ['UI/UX Design', 'Figma', 'Design Systems'],
        difficulty: 'medium',
        estimatedHours: 48,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'design',
        deliverables: ['High-fidelity mockupy', 'Design systém', 'Prototyp v Figma'],
      },
      {
        id: 'task-3',
        title: 'Frontend e-shopu',
        description: 'Implementace responsivního frontendu s product listingem, filtrováním, vyhledáváním, košíkem, checkout procesem a uživatelským účtem.',
        skills: ['React', 'Next.js', 'TypeScript', 'Tailwind CSS'],
        difficulty: 'hard',
        estimatedHours: 120,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'development',
        deliverables: ['Responsivní frontend', 'Vyhledávání a filtry', 'Checkout flow'],
      },
      {
        id: 'task-4',
        title: 'Backend a API',
        description: 'REST API pro správu produktů, objednávek, uživatelů. Integrace platební brány, napojení na dopravu (Zásilkovna/PPL), emaily a fakturace.',
        skills: ['Node.js', 'PostgreSQL', 'REST API', 'Docker'],
        difficulty: 'hard',
        estimatedHours: 100,
        priority: 'high',
        dependencies: [],
        category: 'development',
        deliverables: ['REST API', 'Platební integrace', 'Dopravní integrace', 'Admin panel'],
      },
      {
        id: 'task-5',
        title: 'Produktová fotografie a content',
        description: 'Profesionální produktové fotografie, copywriting popisků produktů a SEO optimalizace textového obsahu.',
        skills: ['Produktová fotografie', 'Copywriting', 'SEO'],
        difficulty: 'medium',
        estimatedHours: 40,
        priority: 'medium',
        dependencies: [],
        category: 'content',
        deliverables: ['Produktové fotky (min. 50)', 'SEO popisky produktů', 'Kategorizační texty'],
      },
      {
        id: 'task-6',
        title: 'Testování, SEO a launch',
        description: 'End-to-end testování celého nákupního procesu, SEO audit, nastavení analytiky, performance optimalizace a nasazení na produkci.',
        skills: ['Testing', 'SEO', 'Google Analytics', 'DevOps'],
        difficulty: 'medium',
        estimatedHours: 36,
        priority: 'medium',
        dependencies: ['task-3', 'task-4', 'task-5'],
        category: 'development',
        deliverables: ['Test reporty', 'SEO audit', 'Production deployment', 'Analytika'],
      },
    ],
    team: [
      { role: 'UX/UI Designér', taskIds: ['task-1', 'task-2'], requiredSkills: ['UI/UX Design', 'Figma', 'UX Research'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 800, max: 1200, currency: 'CZK' }, estimatedHours: 80 },
      { role: 'Frontend Developer', taskIds: ['task-3'], requiredSkills: ['React', 'Next.js', 'TypeScript'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1000, max: 1400, currency: 'CZK' }, estimatedHours: 120 },
      { role: 'Backend Developer', taskIds: ['task-4'], requiredSkills: ['Node.js', 'PostgreSQL', 'REST API'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1100, max: 1500, currency: 'CZK' }, estimatedHours: 100 },
      { role: 'Content Specialista', taskIds: ['task-5'], requiredSkills: ['Copywriting', 'SEO', 'Produktová fotografie'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 600, max: 900, currency: 'CZK' }, estimatedHours: 40 },
      { role: 'QA & DevOps', taskIds: ['task-6'], requiredSkills: ['Testing', 'DevOps', 'SEO'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 900, max: 1300, currency: 'CZK' }, estimatedHours: 36 },
    ],
    milestones: [
      { title: 'Design schválen', weekNumber: 2, taskIds: ['task-1', 'task-2'], description: 'Wireframy a vizuální design odsouhlaseny klientem' },
      { title: 'Frontend MVP', weekNumber: 5, taskIds: ['task-3'], description: 'Funkční frontend s košíkem a checkout procesem' },
      { title: 'Backend integrace', weekNumber: 6, taskIds: ['task-4'], description: 'API, platby a doprava plně funkční' },
      { title: 'Content ready', weekNumber: 6, taskIds: ['task-5'], description: 'Produktové fotky a texty připraveny' },
      { title: 'Launch', weekNumber: 8, taskIds: ['task-6'], description: 'E-shop otestován a spuštěn na produkci' },
    ],
    risks: [
      { description: 'Integrace platební brány může vyžadovat delší schvalovací proces', mitigation: 'Zahájit registraci u poskytovatele plateb ihned na začátku projektu', severity: 'medium' },
      { description: 'Produktový katalog může být rozsáhlejší než očekáváno', mitigation: 'Importní nástroj pro hromadný upload produktů, fázové naplňování', severity: 'low' },
      { description: 'Legislativní požadavky (GDPR, spotřebitelský zákon, EET)', mitigation: 'Právní konzultace na začátku projektu, šablony obchodních podmínek', severity: 'high' },
    ],
    recommendations: [
      'Začněte s omezeným katalogem (20–50 produktů) a postupně rozšiřujte',
      'Implementujte A/B testování checkout flow pro optimalizaci konverzí',
      'Nastavte automatické emaily (potvrzení objednávky, sledování zásilky, review)',
      'Zvažte napojení na cenové srovnávače (Heureka, Zboží.cz) pro organický traffic',
    ],
  },

  mobileApp: {
    keywords: [
      'mobilní', 'mobile', 'appka', 'aplikace', 'ios', 'android', 'react native',
      'flutter', 'app store', 'google play', 'telefon', 'tablet', 'push notifikace',
      'health', 'fitness', 'tracker',
    ],
    namePrefix: 'Mobilní aplikace',
    complexity: 'high',
    weeks: 10,
    tasks: [
      {
        id: 'task-1',
        title: 'Product discovery a UX',
        description: 'Definice cílové skupiny, user stories, competitive analýza a návrh UX. Wireframy klíčových flow a interakční prototyp pro uživatelské testování.',
        skills: ['UX Research', 'UI/UX Design', 'Figma', 'Prototyping'],
        difficulty: 'medium',
        estimatedHours: 40,
        priority: 'high',
        dependencies: [],
        category: 'design',
        deliverables: ['User personas', 'User stories', 'Wireframy', 'Interaktivní prototyp'],
      },
      {
        id: 'task-2',
        title: 'UI design mobilní aplikace',
        description: 'High-fidelity design pro iOS i Android. Komponentová knihovna, animace, dark mode, onboarding flow a empty states.',
        skills: ['UI/UX Design', 'Figma', 'Design Systems'],
        difficulty: 'hard',
        estimatedHours: 56,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'design',
        deliverables: ['iOS design', 'Android design', 'Dark mode', 'Animační specifikace'],
      },
      {
        id: 'task-3',
        title: 'Vývoj mobilní aplikace',
        description: 'Cross-platform vývoj v React Native / Flutter. Implementace všech obrazovek, navigace, offline režim, push notifikace a nativní integrace.',
        skills: ['React Native', 'Flutter', 'iOS', 'Android'],
        difficulty: 'hard',
        estimatedHours: 160,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'development',
        deliverables: ['iOS aplikace', 'Android aplikace', 'Push notifikace', 'Offline podpora'],
      },
      {
        id: 'task-4',
        title: 'Backend a cloud infrastruktura',
        description: 'API server, databáze, autentifikace (social login), cloud storage pro média, real-time synchronizace a automatický scaling.',
        skills: ['Node.js', 'PostgreSQL', 'Firebase', 'AWS'],
        difficulty: 'hard',
        estimatedHours: 80,
        priority: 'high',
        dependencies: [],
        category: 'development',
        deliverables: ['REST/GraphQL API', 'Cloud infrastruktura', 'Auth systém', 'Push server'],
      },
      {
        id: 'task-5',
        title: 'QA a testování',
        description: 'Testování na reálných zařízeních (iOS + Android), performance testování, security audit a regression testy.',
        skills: ['Testing', 'iOS', 'Android'],
        difficulty: 'medium',
        estimatedHours: 40,
        priority: 'high',
        dependencies: ['task-3', 'task-4'],
        category: 'development',
        deliverables: ['Test suite', 'Bug reporty', 'Performance report', 'Security audit'],
      },
      {
        id: 'task-6',
        title: 'App Store publikace a ASO',
        description: 'Příprava App Store a Google Play listingů. Screenshots, popisky, klíčová slova, app preview video a prvotní ASO optimalizace.',
        skills: ['App Store Optimization', 'Copywriting', 'UI/UX Design'],
        difficulty: 'easy',
        estimatedHours: 20,
        priority: 'medium',
        dependencies: ['task-5'],
        category: 'marketing',
        deliverables: ['App Store listing', 'Google Play listing', 'Screenshots', 'ASO strategie'],
      },
    ],
    team: [
      { role: 'Product Designer', taskIds: ['task-1', 'task-2'], requiredSkills: ['UI/UX Design', 'Figma', 'Prototyping'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 900, max: 1300, currency: 'CZK' }, estimatedHours: 96 },
      { role: 'Mobile Developer', taskIds: ['task-3'], requiredSkills: ['React Native', 'Flutter', 'iOS', 'Android'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1100, max: 1600, currency: 'CZK' }, estimatedHours: 160 },
      { role: 'Backend Developer', taskIds: ['task-4'], requiredSkills: ['Node.js', 'PostgreSQL', 'Firebase'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1000, max: 1500, currency: 'CZK' }, estimatedHours: 80 },
      { role: 'QA Tester', taskIds: ['task-5'], requiredSkills: ['Testing', 'iOS', 'Android'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 700, max: 1000, currency: 'CZK' }, estimatedHours: 40 },
      { role: 'ASO Specialista', taskIds: ['task-6'], requiredSkills: ['App Store Optimization', 'Copywriting'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 600, max: 900, currency: 'CZK' }, estimatedHours: 20 },
    ],
    milestones: [
      { title: 'UX validován', weekNumber: 2, taskIds: ['task-1'], description: 'Prototyp otestován s uživateli, flow potvrzeny' },
      { title: 'Design finalizován', weekNumber: 4, taskIds: ['task-2'], description: 'Kompletní UI design odsouhlasený klientem' },
      { title: 'Alpha verze', weekNumber: 7, taskIds: ['task-3', 'task-4'], description: 'Funkční aplikace pro interní testování' },
      { title: 'Beta verze', weekNumber: 9, taskIds: ['task-5'], description: 'Otestovaná aplikace připravená na beta test' },
      { title: 'App Store launch', weekNumber: 10, taskIds: ['task-6'], description: 'Aplikace publikována v App Store a Google Play' },
    ],
    risks: [
      { description: 'App Store review může trvat 1–7 dní a Apple může vyžadovat úpravy', mitigation: 'Počítat s buffer týdnem před plánovaným launchem, dodržovat Apple guidelines', severity: 'medium' },
      { description: 'Performance rozdíly mezi iOS a Android zařízeními', mitigation: 'Testovat na low-end zařízeních od začátku vývoje', severity: 'medium' },
      { description: 'Push notifikace vyžadují certifikáty a nastavení na obou platformách', mitigation: 'Použít Firebase Cloud Messaging jako unified řešení', severity: 'low' },
    ],
    recommendations: [
      'Začněte s jednou platformou (iOS) a po validaci rozšiřte na Android',
      'Implementujte analytics od prvního dne (Mixpanel/Amplitude) pro datové rozhodování',
      'Plánujte beta test s minimálně 50 uživateli před publikací',
      'Nastavte crash reporting (Sentry/Crashlytics) pro rychlé řešení bugů po launchi',
    ],
  },

  aiml: {
    keywords: [
      'ai', 'ml', 'umělá inteligence', 'strojové učení', 'machine learning',
      'deep learning', 'neural', 'neuronov', 'chatbot', 'gpt', 'claude', 'llm',
      'nlp', 'computer vision', 'predik', 'klasifik', 'rekomendač', 'automatiz',
      'data science', 'model', 'trénování',
    ],
    namePrefix: 'AI/ML',
    complexity: 'high',
    weeks: 12,
    tasks: [
      {
        id: 'task-1',
        title: 'Data discovery a definice problému',
        description: 'Analýza dostupných dat, definice ML problému, výběr metrik úspěšnosti (accuracy, F1, RMSE) a návrh pipeline pro zpracování dat.',
        skills: ['Python', 'SQL', 'Data Visualization'],
        difficulty: 'medium',
        estimatedHours: 40,
        priority: 'high',
        dependencies: [],
        category: 'data',
        deliverables: ['Data audit', 'Definice ML problému', 'EDA report', 'Pipeline návrh'],
      },
      {
        id: 'task-2',
        title: 'Data engineering a preprocessing',
        description: 'Vyčištění dat, feature engineering, augmentace datasetu, vytvoření train/val/test splitů a automatizovaný ETL pipeline.',
        skills: ['Python', 'SQL', 'Docker'],
        difficulty: 'hard',
        estimatedHours: 60,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'data',
        deliverables: ['Čistý dataset', 'Feature engineering pipeline', 'Automatizovaný ETL'],
      },
      {
        id: 'task-3',
        title: 'Trénování a optimalizace modelu',
        description: 'Experimentování s různými architekturami (transformers, CNN, gradient boosting), hyperparameter tuning, cross-validace a výběr nejlepšího modelu.',
        skills: ['Python', 'Data Visualization'],
        difficulty: 'hard',
        estimatedHours: 80,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'data',
        deliverables: ['Natrénovaný model', 'Experiment tracking report', 'Model benchmarks'],
      },
      {
        id: 'task-4',
        title: 'API a model serving',
        description: 'REST API pro inferenci, model versioning, caching predictions, rate limiting a monitoring výkonu modelu v produkci.',
        skills: ['Python', 'REST API', 'Docker', 'AWS'],
        difficulty: 'hard',
        estimatedHours: 48,
        priority: 'high',
        dependencies: ['task-3'],
        category: 'development',
        deliverables: ['Inference API', 'Model registry', 'Monitoring dashboard'],
      },
      {
        id: 'task-5',
        title: 'Frontend / integrace',
        description: 'Uživatelské rozhraní pro interakci s AI modelem – upload dat, vizualizace výsledků, dashboard s metrikami a exporty.',
        skills: ['React', 'TypeScript', 'Data Visualization'],
        difficulty: 'medium',
        estimatedHours: 56,
        priority: 'medium',
        dependencies: ['task-4'],
        category: 'development',
        deliverables: ['Webový dashboard', 'Vizualizace predikcí', 'Export funkcionalita'],
      },
      {
        id: 'task-6',
        title: 'MLOps a production deployment',
        description: 'CI/CD pro ML pipeline, automatický retraining, A/B testování modelů, alerting na data drift a dokumentace celého systému.',
        skills: ['Docker', 'AWS', 'CI/CD', 'Kubernetes'],
        difficulty: 'hard',
        estimatedHours: 40,
        priority: 'medium',
        dependencies: ['task-4'],
        category: 'development',
        deliverables: ['CI/CD pipeline', 'Auto-retraining', 'Monitoring & alerts', 'Dokumentace'],
      },
    ],
    team: [
      { role: 'ML Engineer', taskIds: ['task-1', 'task-2', 'task-3'], requiredSkills: ['Python', 'SQL', 'Data Visualization'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1200, max: 1800, currency: 'CZK' }, estimatedHours: 180 },
      { role: 'Backend / MLOps Engineer', taskIds: ['task-4', 'task-6'], requiredSkills: ['Python', 'Docker', 'AWS', 'CI/CD'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1100, max: 1600, currency: 'CZK' }, estimatedHours: 88 },
      { role: 'Frontend Developer', taskIds: ['task-5'], requiredSkills: ['React', 'TypeScript', 'Data Visualization'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 900, max: 1300, currency: 'CZK' }, estimatedHours: 56 },
    ],
    milestones: [
      { title: 'Data ready', weekNumber: 3, taskIds: ['task-1', 'task-2'], description: 'Dataset vyčištěn, features připraveny, pipeline funkční' },
      { title: 'Model baseline', weekNumber: 6, taskIds: ['task-3'], description: 'Prvotní model s vyhodnocenými metrikami' },
      { title: 'Model optimalizován', weekNumber: 8, taskIds: ['task-3'], description: 'Finální model po hyperparameter tuningu' },
      { title: 'API v produkci', weekNumber: 10, taskIds: ['task-4'], description: 'Model servován přes API s monitoringem' },
      { title: 'Plný launch', weekNumber: 12, taskIds: ['task-5', 'task-6'], description: 'Dashboard, MLOps a dokumentace dokončeny' },
    ],
    risks: [
      { description: 'Kvalita a objem dat nemusí být dostatečné pro dosažení požadované přesnosti', mitigation: 'Data augmentace, transfer learning, případně doplnění datasetu z externích zdrojů', severity: 'high' },
      { description: 'Model drift – přesnost modelu se může časem snižovat', mitigation: 'Automatický monitoring metrik a scheduled retraining pipeline', severity: 'medium' },
      { description: 'Výpočetní náročnost trénování může být vyšší než očekáváno', mitigation: 'Využití cloud GPU (AWS/GCP), postupné škálování experimentů', severity: 'medium' },
    ],
    recommendations: [
      'Začněte s jednoduchým baseline modelem a iterativně vylepšujte',
      'Investujte do kvalitní data pipeline – 80 % úspěchu ML je v datech',
      'Implementujte experiment tracking (MLflow/W&B) od prvního experimentu',
      'Plánujte A/B testování v produkci pro validaci reálného dopadu',
      'Zohledněte etické aspekty AI (bias, fairness, transparentnost)',
    ],
  },

  saas: {
    keywords: [
      'saas', 'platforma', 'dashboard', 'admin', 'crm', 'erp', 'subscription',
      'předplatné', 'multi-tenant', 'onboarding', 'user management', 'správa uživatel',
      'systém', 'portál', 'interní', 'firemní', 'b2b', 'nástroj', 'tool',
    ],
    namePrefix: 'SaaS platforma',
    complexity: 'high',
    weeks: 10,
    tasks: [
      {
        id: 'task-1',
        title: 'Product design a UX',
        description: 'Informační architektura, uživatelské flow pro onboarding, hlavní funkce a nastavení. Wireframy a interaktivní prototyp pro validaci.',
        skills: ['UX Research', 'UI/UX Design', 'Figma', 'Prototyping'],
        difficulty: 'medium',
        estimatedHours: 48,
        priority: 'high',
        dependencies: [],
        category: 'design',
        deliverables: ['Informační architektura', 'Wireframy (15+ stránek)', 'Prototyp'],
      },
      {
        id: 'task-2',
        title: 'Design systém a UI',
        description: 'Kompletní design systém (barvy, typografie, komponenty), dark/light mode, responsivní layout a edge cases (empty states, loading, errors).',
        skills: ['UI/UX Design', 'Figma', 'Design Systems'],
        difficulty: 'hard',
        estimatedHours: 56,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'design',
        deliverables: ['Design systém', 'UI kit', 'Responsivní layout', 'Dark mode'],
      },
      {
        id: 'task-3',
        title: 'Frontend aplikace',
        description: 'SPA s komplexním routingem, state management, tabulkami s filtrováním/řazením, formuláři s validací, grafy a real-time notifikacemi.',
        skills: ['React', 'TypeScript', 'Next.js', 'Tailwind CSS'],
        difficulty: 'hard',
        estimatedHours: 120,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'development',
        deliverables: ['Dashboard', 'CRUD operace', 'Grafy a reporty', 'Real-time UI'],
      },
      {
        id: 'task-4',
        title: 'Backend a multi-tenancy',
        description: 'API s role-based access control, multi-tenant architektura, subscription management (Stripe), webhooks a audit log.',
        skills: ['Node.js', 'PostgreSQL', 'REST API', 'Docker'],
        difficulty: 'hard',
        estimatedHours: 100,
        priority: 'high',
        dependencies: [],
        category: 'development',
        deliverables: ['REST API', 'Auth & RBAC', 'Subscription billing', 'Audit log'],
      },
      {
        id: 'task-5',
        title: 'Infrastruktura a CI/CD',
        description: 'Cloud setup (AWS/GCP), containerizace, CI/CD pipeline, staging a production prostředí, monitoring, logging a backup strategie.',
        skills: ['AWS', 'Docker', 'Kubernetes', 'CI/CD', 'Terraform'],
        difficulty: 'hard',
        estimatedHours: 40,
        priority: 'high',
        dependencies: ['task-4'],
        category: 'development',
        deliverables: ['Cloud infrastruktura', 'CI/CD pipeline', 'Monitoring', 'Backup'],
      },
      {
        id: 'task-6',
        title: 'Landing page a dokumentace',
        description: 'Marketingový web s pricing page, feature showcase, FAQ. API dokumentace, uživatelská příručka a onboarding tutoriály.',
        skills: ['React', 'Copywriting', 'SEO'],
        difficulty: 'medium',
        estimatedHours: 36,
        priority: 'medium',
        dependencies: ['task-3'],
        category: 'marketing',
        deliverables: ['Landing page', 'API dokumentace', 'Uživatelský manuál', 'Onboarding flow'],
      },
    ],
    team: [
      { role: 'Product Designer', taskIds: ['task-1', 'task-2'], requiredSkills: ['UI/UX Design', 'Figma', 'Design Systems'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 900, max: 1300, currency: 'CZK' }, estimatedHours: 104 },
      { role: 'Frontend Developer', taskIds: ['task-3', 'task-6'], requiredSkills: ['React', 'TypeScript', 'Next.js'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1000, max: 1400, currency: 'CZK' }, estimatedHours: 156 },
      { role: 'Backend Developer', taskIds: ['task-4'], requiredSkills: ['Node.js', 'PostgreSQL', 'REST API'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1100, max: 1500, currency: 'CZK' }, estimatedHours: 100 },
      { role: 'DevOps Engineer', taskIds: ['task-5'], requiredSkills: ['AWS', 'Docker', 'CI/CD', 'Terraform'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1200, max: 1600, currency: 'CZK' }, estimatedHours: 40 },
    ],
    milestones: [
      { title: 'Design validován', weekNumber: 2, taskIds: ['task-1', 'task-2'], description: 'UX flow a vizuální design schváleny' },
      { title: 'Alpha verze', weekNumber: 5, taskIds: ['task-3', 'task-4'], description: 'Základní CRUD, auth a billing funkční' },
      { title: 'Beta verze', weekNumber: 8, taskIds: ['task-3', 'task-4', 'task-5'], description: 'Kompletní funkce, infrastruktura připravena' },
      { title: 'Public launch', weekNumber: 10, taskIds: ['task-6'], description: 'Landing page, dokumentace, první zákazníci' },
    ],
    risks: [
      { description: 'Multi-tenant architektura může být komplexnější než očekáváno', mitigation: 'Začít se schema-based izolací, otestovat s 10+ tenants před launchem', severity: 'high' },
      { description: 'Subscription billing (Stripe) vyžaduje pečlivé ošetření edge cases', mitigation: 'Testovat webhooks důkladně, implementovat retry logiku a graceful degradation', severity: 'medium' },
      { description: 'Scalability problémy při růstu uživatelské základny', mitigation: 'Load testing před launchem, horizontální škálování od začátku', severity: 'medium' },
    ],
    recommendations: [
      'Začněte s jedním pricing tiers a rozšiřte podle feedbacku prvních zákazníků',
      'Implementujte feature flags pro postupné rolloutování nových funkcí',
      'Nastavte customer success metriky (onboarding completion, activation, retention)',
      'Investujte do kvalitní API dokumentace – je to vizitka vaší platformy',
    ],
  },

  marketing: {
    keywords: [
      'marketing', 'kampaň', 'reklam', 'brand', 'branding', 'rebrand', 'logo',
      'vizuální identita', 'social media', 'sociální sít', 'instagram', 'facebook',
      'linkedin', 'tiktok', 'ppc', 'seo', 'content', 'obsah', 'copy', 'newsletter',
      'email', 'launch', 'promo', 'propagac', 'pr ', 'tiskový', 'video',
    ],
    namePrefix: 'Marketingový',
    complexity: 'medium',
    weeks: 4,
    tasks: [
      {
        id: 'task-1',
        title: 'Strategie a brand audit',
        description: 'Analýza cílové skupiny, konkurenční prostředí, SWOT analýza. Definice brand voice, messaging framework a komunikační strategie.',
        skills: ['Marketing Strategy', 'Analytics', 'Content Strategy'],
        difficulty: 'medium',
        estimatedHours: 24,
        priority: 'high',
        dependencies: [],
        category: 'strategy',
        deliverables: ['Marketingová strategie', 'Persona dokumenty', 'Messaging framework'],
      },
      {
        id: 'task-2',
        title: 'Vizuální materiály a branding',
        description: 'Grafické podklady pro kampaň – bannery, social media šablony, infografiky. Případně refresh vizuální identity (logo, barvy, fonty).',
        skills: ['Adobe Illustrator', 'Adobe Photoshop', 'Brand Identity', 'Infografiky'],
        difficulty: 'medium',
        estimatedHours: 36,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'design',
        deliverables: ['Social media šablony', 'Bannery (6+ formátů)', 'Brand guidelines'],
      },
      {
        id: 'task-3',
        title: 'Copywriting a content tvorba',
        description: 'Texty pro web, social media posty, emailové sekvence, PPC reklamy a případně blog články. Vše v češtině s ohledem na SEO.',
        skills: ['Copywriting', 'SEO', 'Content Strategy', 'Email Marketing'],
        difficulty: 'medium',
        estimatedHours: 32,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'content',
        deliverables: ['Web copy', 'Social media posty (20+)', 'Email sekvence', 'PPC texty'],
      },
      {
        id: 'task-4',
        title: 'Video a foto produkce',
        description: 'Krátká promo videa pro sociální sítě (Reels, TikTok), produktové fotografie a případně animované grafiky.',
        skills: ['Video Editing', 'Motion Graphics', 'Produktová fotografie'],
        difficulty: 'medium',
        estimatedHours: 28,
        priority: 'medium',
        dependencies: ['task-2'],
        category: 'content',
        deliverables: ['Promo videa (3–5)', 'Produktové fotky', 'Animované grafiky'],
      },
      {
        id: 'task-5',
        title: 'PPC kampaně a správa reklam',
        description: 'Nastavení a optimalizace PPC kampaní (Google Ads, Seznam Sklik, Meta Ads). A/B testování, remarketing a reporting.',
        skills: ['Google Ads', 'Facebook Ads', 'PPC', 'Analytics'],
        difficulty: 'medium',
        estimatedHours: 24,
        priority: 'high',
        dependencies: ['task-2', 'task-3'],
        category: 'marketing',
        deliverables: ['PPC kampaně', 'Remarketing setup', 'Týdenní reporty'],
      },
      {
        id: 'task-6',
        title: 'Social media management',
        description: 'Správa sociálních sítí – plánování obsahu, community management, influencer outreach a měsíční analytické reporty.',
        skills: ['Social Media', 'Instagram', 'Content Planning', 'Analytics'],
        difficulty: 'easy',
        estimatedHours: 20,
        priority: 'medium',
        dependencies: ['task-2', 'task-3'],
        category: 'marketing',
        deliverables: ['Content kalendář', 'Community management', 'Měsíční reporty'],
      },
    ],
    team: [
      { role: 'Marketingový stratég', taskIds: ['task-1', 'task-5'], requiredSkills: ['Marketing Strategy', 'PPC', 'Analytics'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 900, max: 1200, currency: 'CZK' }, estimatedHours: 48 },
      { role: 'Grafický designér', taskIds: ['task-2'], requiredSkills: ['Adobe Illustrator', 'Brand Identity', 'Infografiky'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 700, max: 1000, currency: 'CZK' }, estimatedHours: 36 },
      { role: 'Copywriter', taskIds: ['task-3'], requiredSkills: ['Copywriting', 'SEO', 'Email Marketing'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 600, max: 900, currency: 'CZK' }, estimatedHours: 32 },
      { role: 'Video producent', taskIds: ['task-4'], requiredSkills: ['Video Editing', 'Motion Graphics'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 650, max: 950, currency: 'CZK' }, estimatedHours: 28 },
      { role: 'Social Media Manager', taskIds: ['task-6'], requiredSkills: ['Social Media', 'Instagram', 'Content Planning'], seniorityLevel: 'junior', estimatedHourlyRate: { min: 450, max: 700, currency: 'CZK' }, estimatedHours: 20 },
    ],
    milestones: [
      { title: 'Strategie schválena', weekNumber: 1, taskIds: ['task-1'], description: 'Marketingová strategie a messaging odsouhlaseny' },
      { title: 'Materiály ready', weekNumber: 2, taskIds: ['task-2', 'task-3'], description: 'Grafika, copy a video připraveny ke spuštění' },
      { title: 'Kampaně live', weekNumber: 3, taskIds: ['task-4', 'task-5'], description: 'PPC kampaně a sociální sítě spuštěny' },
      { title: 'Optimalizace a report', weekNumber: 4, taskIds: ['task-5', 'task-6'], description: 'První výsledky, optimalizace a souhrnný report' },
    ],
    risks: [
      { description: 'Nízká engagement rate na sociálních sítích v prvních týdnech', mitigation: 'Připravit dostatečné množství variant obsahu pro A/B testování', severity: 'medium' },
      { description: 'Rostoucí náklady na PPC bez odpovídajícího ROI', mitigation: 'Denní monitoring kampaní, postupné škálování od malých budgetů', severity: 'medium' },
      { description: 'Nekonzistentní brand communication napříč kanály', mitigation: 'Brand guidelines a messaging framework sdílené se všemi členy týmu', severity: 'low' },
    ],
    recommendations: [
      'Testujte obsah s malým budgetem a škálujte to, co funguje',
      'Nastavte UTM parametry pro přesné sledování zdroje konverzí',
      'Pravidelné A/B testování kreativ a landing pages pro optimalizaci',
      'Zvažte influencer marketing pro rychlé budování brand awareness',
    ],
  },

  blockchain: {
    keywords: [
      'blockchain', 'web3', 'crypto', 'krypto', 'nft', 'token', 'smart contract',
      'solidity', 'ethereum', 'defi', 'dao', 'wallet', 'peněženka', 'mining',
      'dapp', 'decentraliz', 'mint',
    ],
    namePrefix: 'Web3 / Blockchain',
    complexity: 'high',
    weeks: 14,
    tasks: [
      {
        id: 'task-1',
        title: 'Tokenomics a architektura',
        description: 'Návrh tokenomics modelu, smart contract architektura, security requirements a compliance analýza. Whitepaper draft.',
        skills: ['Marketing Strategy', 'Content Strategy'],
        difficulty: 'hard',
        estimatedHours: 40,
        priority: 'high',
        dependencies: [],
        category: 'strategy',
        deliverables: ['Tokenomics model', 'Technická architektura', 'Whitepaper draft'],
      },
      {
        id: 'task-2',
        title: 'Smart contract vývoj',
        description: 'Vývoj a testování smart kontraktů (ERC-20/721/1155), deployment scripty, gas optimalizace a upgrade mechanismy.',
        skills: ['Node.js', 'TypeScript'],
        difficulty: 'hard',
        estimatedHours: 100,
        priority: 'high',
        dependencies: ['task-1'],
        category: 'development',
        deliverables: ['Smart contracts', 'Unit testy (100% coverage)', 'Deployment scripty'],
      },
      {
        id: 'task-3',
        title: 'Security audit smart kontraktů',
        description: 'Profesionální bezpečnostní audit – statická analýza, manuální review, fuzz testing a report s doporučeními.',
        skills: ['Testing'],
        difficulty: 'hard',
        estimatedHours: 40,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'development',
        deliverables: ['Security audit report', 'Vulnerability assessment', 'Opravené kontrakty'],
      },
      {
        id: 'task-4',
        title: 'Frontend dApp',
        description: 'Web3 frontend s wallet připojením (MetaMask, WalletConnect), interakce se smart kontrakty, transakční flow a stav synchronizace.',
        skills: ['React', 'TypeScript', 'Next.js'],
        difficulty: 'hard',
        estimatedHours: 80,
        priority: 'high',
        dependencies: ['task-2'],
        category: 'development',
        deliverables: ['dApp frontend', 'Wallet integrace', 'Transaction UI'],
      },
      {
        id: 'task-5',
        title: 'UI/UX design dApp',
        description: 'Design intuitivního rozhraní pro Web3 – wallet connection flow, transaction confirmations, network switching a error handling.',
        skills: ['UI/UX Design', 'Figma', 'Prototyping'],
        difficulty: 'medium',
        estimatedHours: 48,
        priority: 'high',
        dependencies: [],
        category: 'design',
        deliverables: ['dApp design', 'Wallet flow', 'Transaction UX', 'Error states'],
      },
      {
        id: 'task-6',
        title: 'Community a launch',
        description: 'Discord/Telegram setup, community management, launch kampaň, whitepaper finalizace a listing na relevantních platformách.',
        skills: ['Social Media', 'Copywriting', 'Marketing Strategy'],
        difficulty: 'medium',
        estimatedHours: 32,
        priority: 'medium',
        dependencies: ['task-3', 'task-4'],
        category: 'marketing',
        deliverables: ['Discord komunita', 'Launch kampaň', 'Finální whitepaper'],
      },
    ],
    team: [
      { role: 'Blockchain Developer', taskIds: ['task-2'], requiredSkills: ['Node.js', 'TypeScript'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1400, max: 2000, currency: 'CZK' }, estimatedHours: 100 },
      { role: 'Security Auditor', taskIds: ['task-3'], requiredSkills: ['Testing'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1500, max: 2000, currency: 'CZK' }, estimatedHours: 40 },
      { role: 'Frontend Developer (Web3)', taskIds: ['task-4'], requiredSkills: ['React', 'TypeScript', 'Next.js'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 1200, max: 1700, currency: 'CZK' }, estimatedHours: 80 },
      { role: 'Product Designer', taskIds: ['task-5'], requiredSkills: ['UI/UX Design', 'Figma'], seniorityLevel: 'senior', estimatedHourlyRate: { min: 900, max: 1300, currency: 'CZK' }, estimatedHours: 48 },
      { role: 'Community Manager', taskIds: ['task-1', 'task-6'], requiredSkills: ['Marketing Strategy', 'Social Media', 'Copywriting'], seniorityLevel: 'mid', estimatedHourlyRate: { min: 600, max: 1000, currency: 'CZK' }, estimatedHours: 72 },
    ],
    milestones: [
      { title: 'Architektura a tokenomics', weekNumber: 2, taskIds: ['task-1'], description: 'Tokenomics model a technická architektura schváleny' },
      { title: 'Smart contracts hotovy', weekNumber: 6, taskIds: ['task-2'], description: 'Kontrakty vyvinuty a otestovány na testnetu' },
      { title: 'Security audit dokončen', weekNumber: 8, taskIds: ['task-3'], description: 'Bezpečnostní audit prošel, kontrakty opraveny' },
      { title: 'dApp alpha', weekNumber: 11, taskIds: ['task-4', 'task-5'], description: 'Funkční dApp s wallet integrací na testnetu' },
      { title: 'Mainnet launch', weekNumber: 14, taskIds: ['task-6'], description: 'Deployment na mainnet, komunita a marketing spuštěny' },
    ],
    risks: [
      { description: 'Bezpečnostní zranitelnosti ve smart kontraktech mohou vést ke ztrátě funds', mitigation: 'Profesionální audit, bug bounty program, postupný rollout s limity', severity: 'high' },
      { description: 'Regulatorní nejistota v oblasti kryptoměn v ČR/EU (MiCA)', mitigation: 'Právní konzultace specializovaná na krypto legislativu', severity: 'high' },
      { description: 'Gas fees mohou překročit budget při deployi na Ethereum mainnet', mitigation: 'Zvážit L2 řešení (Polygon, Arbitrum) nebo alternativní blockchainy', severity: 'medium' },
    ],
    recommendations: [
      'Deployujte nejdříve na testnet (Sepolia) a důkladně otestujte',
      'Investujte do bezpečnostního auditu – náklady jsou zlomek potenciálních ztrát',
      'Zvažte Layer 2 řešení pro nižší transakční poplatky',
      'Budujte komunitu (Discord/Telegram) ještě před launchem produktu',
      'Ošetřete právní stránku – MiCA regulace vstupuje v platnost v EU',
    ],
  },
};

/**
 * Detect project type from user's description.
 * Returns the template key with the highest keyword match score.
 */
export function detectProjectType(description) {
  const normalized = description.toLowerCase();
  let bestMatch = null;
  let bestScore = 0;

  for (const [key, template] of Object.entries(projectTemplates)) {
    let score = 0;
    for (const keyword of template.keywords) {
      if (normalized.includes(keyword)) {
        // Longer keywords get more weight (more specific)
        score += keyword.length;
      }
    }
    if (score > bestScore) {
      bestScore = score;
      bestMatch = key;
    }
  }

  // Return match if score is meaningful (at least one multi-char keyword matched)
  return bestScore >= 3 ? bestMatch : null;
}
